<!doctype html>
<html xmlns:ng="http://angularjs.org">
  <head>
    <title>Accounts - FinQuick</title>
    <meta charset="utf-8" />
    <style type="text/css">
      .money { text-align: right }
      th { border-bottom: 2px solid blue }
      td {
        border-bottom: 1px solid grey }
      }
    </style>
  </head>
  <body ng:controller="AccountsCtrl">
    <div><a href="transactions">Transactions</a></div>

    <h1>Accounts</h1>

    <table>
      <thead>
      <tr>
	<th>Account Name</th><th>Type</th><th>P</th><th>Description</th>
	<th>Balance</th><th>Reconciled</th>
	<th>Total (Period)</th>
      </tr>
      </thead>
      <tbody>
	<!--todo: start with children(root(), summary)
            and expand. -->
      <tr ng:repeat="account in summary"
          ng:show="visible(account)">
	<td ng:click="toggle(account)">
	  {{ account.level - 1 | indent:'&#160;&#160;' }}
	  <!-- TODO: disable if there are no children -->
	  <ng:switch on="account.expanded">
	    <span ng:switch-when="true">
	      &#x25BE; <!-- BLACK DOWN-POINTING SMALL TRIANGLE -->
	    </span>
	    <span ng:switch-default>
	      &#x25B8; <!-- BLACK RIGHT-POINTING SMALL TRIANGLE -->
	    </span>
	  </ng:switch>
	  {{account.name}}
	</td>
	<td>{{account.account_type}}</td>
	<!-- angular docs suggestion ng:checked,
	     but that doesn't seem to work. -->
	<td>
	  <!-- TODO: make this editable -->
	  <input type='checkbox' checked="{{account.placeholder}}"
		 disabled='disabled'/>
	</td>
	<td>{{account.description}}</td>
	<td class="money">{{account.balance | currency}}</td>
	<td class="money">{{account.reconciled_balance | currency}}</td>
	<td class="money">{{account.total_period | currency}}</td>
      </tr>
      </tbody>
    </table>

    <hr />
    <address>
      <a href="https://bitbucket.org/DanC/finquick">FinQuick</a><br />
      copyright (c) 2012 <a href="http://www.madmode.com/p/about.html"
			    >Dan Connolly</a>, some rights reserved
    </address>

    <script src="http://code.angularjs.org/angular-0.9.12.js" ng:autobind></script>
    <script src="static/fin.js" type="text/javascript"></script>
  </body>
</html>
<!--
cribbed from
http://docs.angularjs.org/#!/misc/downloading
-->
